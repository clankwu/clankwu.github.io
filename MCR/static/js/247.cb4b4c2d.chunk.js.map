{"version":3,"file":"static/js/247.cb4b4c2d.chunk.js","mappings":"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","sources":["components/Content.jsx","components/Voter.jsx","pages/Detail.jsx"],"sourcesContent":["import React from \"react\";\nimport style from \"../assets/css/index.module.scss\";\n\nexport default function Content(props) {\n  const h1 = [\n    \"案例描述\",\n    \"内容表达与技术\",\n    \"媒介策略与执行\",\n    \"营销效果\",\n    \"传播与影响\",\n  ];\n  return (\n    <div className={style.content}>\n      <div>\n        <h1>{props.children.title}</h1>\n      </div>\n      {[\n        props.children.d,\n        props.children.d1,\n        props.children.d2,\n        props.children.d3,\n        props.children.d4,\n      ].map((item, i) => (\n        <div key={i}>\n          <h1>{h1[i]}</h1>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: item,\n            }}\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport style from \"../assets/css/index.module.scss\";\nimport { Slider } from \"antd-mobile\";\nimport { useEffect } from \"react\";\n\nexport default function Voter(props) {\n  const [score, setScore] = useState(props.children);\n  const max = [20, 30, 40, 10];\n  const lable = [\"内容表达与技术\", \"媒介策略与执行\", \"营销效果\", \"传播与影响\"];\n  useEffect(() => {\n    setScore(props.children);\n  }, [props.children]);\n  const changeHandle = (i, v) => {\n    const newScore = [...score];\n    newScore[i] = v;\n    setScore(newScore);\n  };\n  const afterChangeHandle = (v) => {\n    props.onChange(score);\n  };\n  return (\n    <>\n      <div className={style.circ}>\n        <div>当前分数</div>\n        <div>{score.reduce((pre, cur) => pre + cur, 0) || \"未评\"}分</div>\n      </div>\n      {score.map((item, i) => (\n        <div key={i} className={style.vote}>\n          <h6>{lable[i]}</h6>\n          <h1>{item}分</h1>\n          <Slider\n            icon={\n              <div\n                style={{\n                  border: \"2px solid #1677ff\",\n                  borderRadius: \"50%\",\n                  height: \"22px\",\n                  width: \"22px\",\n                }}\n              ></div>\n            }\n            disabled={props.status === 2}\n            value={item}\n            step={1}\n            max={max[i]}\n            onChange={(v) => changeHandle(i, v)}\n            onAfterChange={afterChangeHandle}\n          />\n        </div>\n      ))}\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { Swiper } from \"antd-mobile\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport style from \"../assets/css/index.module.scss\";\nimport top from \"../assets/images/list_top.png\";\nimport Content from \"../components/Content\";\nimport Voter from \"../components/Voter\";\n\nconst Detail = () => {\n  const [state, setState] = useState(useLocation().state);\n  const nav = useNavigate();\n  console.log(state);\n  const changeHandle = (v) => {\n    const localState = JSON.parse(localStorage.getItem(\"state\"));\n    localState.score[state.detail.id * 1 - 1] = v;\n    localStorage.setItem(\"state\", JSON.stringify(localState));\n    setState({ score: v, detail: state.detail });\n  };\n  const nextHandle = (e) => {\n    if (state.status === 2) {\n      nav(\"/list\");\n    } else if (state.score.reduce((pre, cur) => pre + cur) === 0) {\n      alert(\"这个案例还未评\");\n    } else {\n      const localState = JSON.parse(localStorage.getItem(\"state\"));\n      const id = state.detail.id * 1;\n      if (id <= localState.list.length) {\n        const next = localState.score.findIndex(\n          (item) => item.reduce((pre, cur) => pre + cur) === 0\n        );\n        if (next === -1) {\n          alert(\"去提交您的评分\");\n          localState.status = 1;\n          localStorage.setItem(\"state\", JSON.stringify(localState));\n          nav(\"/list\", { state: { complete: true } });\n          e.preventDefault();\n          return;\n        }\n        const state = {\n          detail: localState.list[next],\n          score: localState.score[next],\n        };\n        setState(state);\n        window.scrollTo({\n          left: 0,\n          top: 0,\n          behavior: \"smooth\",\n        });\n      }\n    }\n    e.preventDefault();\n  };\n  return (\n    <div className={style.detail}>\n      <img src={top} className={style.logo} alt=\"top\" />\n      <Swiper>\n        {state.detail.imgs.map((item, i) => (\n          <Swiper.Item key={i}>\n            <img\n              src={item}\n              alt=\"\"\n              style={{ objectFit: \"cover\", height: \"50vw\", width: \"100%\" }}\n            />\n          </Swiper.Item>\n        ))}\n      </Swiper>\n      <Content>{state.detail}</Content>\n      <Voter status={state.status} onChange={changeHandle}>\n        {state.score}\n      </Voter>\n      <Link className={style.button} to=\"/detail\" onClick={nextHandle}>\n        {state.status === 2 ? \"返回\" : \"下一个案例\"}\n      </Link>\n    </div>\n  );\n};\nexport default Detail;\n"],"names":["Content","props","h1","className","style","children","title","d","d1","d2","d3","d4","map","item","i","dangerouslySetInnerHTML","__html","Voter","useState","score","setScore","max","lable","useEffect","afterChangeHandle","v","onChange","reduce","pre","cur","icon","border","borderRadius","height","width","disabled","status","value","step","newScore","changeHandle","onAfterChange","useLocation","state","setState","nav","useNavigate","console","log","src","top","alt","detail","imgs","objectFit","localState","JSON","parse","localStorage","getItem","id","setItem","stringify","to","onClick","e","alert","list","length","next","findIndex","complete","preventDefault","window","scrollTo","left","behavior"],"sourceRoot":""}